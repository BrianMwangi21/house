<div class="quote-component" [ngStyle]="{ 'width': width + 'px', 'height': height + 'px' }">

  <div class="card text-white bg-info mb-3" style="width: calc(100%); height: calc(100%);">
    <div class="card-header" style="background: black;"><h3>{{title}} Market Volume</h3></div>
    <div class="card-body stock-drop">
      <div class="container">
        <div class="row">
          <div class="col col-md-offset-1"><!-- left side -->
            <div class="container">
              <div class="row">
                <div class="col">
                  <dx-data-grid id="gridContainer"
                                [dataSource]="dataSource"
                                [showRowLines]="true"
                                [showBorders]="true">

                    <dxo-sorting mode="none"></dxo-sorting>
                    <dxo-paging [pageSize]="10"></dxo-paging>

                    <dxi-column dataField="date" [width]="90" dataType="date"></dxi-column>
                    <dxi-column caption="Open" cellTemplate="diffCellTemplate"></dxi-column>
                    <dxi-column caption="Close" cellTemplate="diffCellTemplate"></dxi-column>
                    <dxi-column caption="Dynamics" [width]="155" cellTemplate="chartCellTemplate"></dxi-column>
                    <dxi-column caption="High" cellTemplate="diffCellTemplate"></dxi-column>
                    <dxi-column caption="Low" cellTemplate="diffCellTemplate"></dxi-column>

                    <div *dxTemplate="let d of 'chartCellTemplate'">
                      <div class="chart-cell">
                        <dx-sparkline
                                [dataSource]="d.data.dayClose"
                                argumentField="date"
                                valueField="close"
                                type="line"
                                [showMinMax]="true"
                                minColor="#f00"
                                maxColor="#2ab71b"
                                [pointSize]="6">
                          <dxo-size [width]="140" [height]="30"></dxo-size>
                          <dxo-tooltip [enabled]="false"></dxo-tooltip>
                        </dx-sparkline>
                      </div>
                    </div>
                    <div *dxTemplate="let d of 'diffCellTemplate'" [class]="(d | gridCellData).diff > 0 ? 'inc' : 'dec'">
                      <span class="current-value">{{(d | gridCellData).value | currency:'USD':true}}</span>
                      <span class="diff">{{abs((d | gridCellData).diff) | number:'1.2-2'}}</span>
                    </div>
                  </dx-data-grid>
                </div>
              </div>
            </div>
          </div>
          <div class="col-sm-auto"></div>
        </div>
      </div>
    </div>
    <div class="card-footer" style="background: black;">
      <div class="cmeDisclaimerText" style="color: lime; font-family: arial;">
        Last updated: <span class="lastUpdated">02 Jan 2018, 12:39 pm ET</span><br>
        <i class="text-muted">Quotes are delayed by at least 20 minutes.</i>
      </div>
    </div>
  </div>
</div>
